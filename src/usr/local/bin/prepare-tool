#!/bin/bash

set -e

TOOL_PATH="/usr/local/buildpack/tools/v2"

# shellcheck source=/dev/null
. /usr/local/buildpack/util.sh

TOOLS=( "$@" )

# special case if only 'all' is given
if [ "$#" -eq 1 ] && [ "${TOOLS[0]}" == "all" ]; then
  TOOLS=()
  for i in "${TOOL_PATH}"/*.sh; do
    TOOLS+=( "$(basename "${i%%.*}")")
  done
fi

for tool in "${TOOLS[@]}"
do
  prepare_tools "${tool}"
done
